OPENAI_API_KEY=

# Core persistence + queue infrastructure
DATABASE_URL=postgresql+psycopg://postgres:postgres@localhost:5432/interviewinsightai
REDIS_URL=redis://localhost:6379/0
CELERY_BROKER_URL=redis://localhost:6379/0
CELERY_RESULT_BACKEND=redis://localhost:6379/0

# JWT auth
JWT_SECRET_KEY=change-me-in-production
JWT_ACCESS_TOKEN_EXPIRE_MINUTES=60
JWT_REFRESH_TOKEN_EXPIRE_DAYS=30

# Avatar modes:
# - browser: browser speech synthesis fallback
# - provider: D-ID/HeyGen/Simli avatar APIs
# - virtual3d: backend TTS + viseme timeline for Three.js avatar lip sync
IIA_AVATAR_MODE=virtual3d

# Provider: did, heygen, or simli
IIA_AVATAR_PROVIDER=did
IIA_AVATAR_API_KEY=
IIA_AVATAR_BASE_URL=

# D-ID settings
IIA_DID_SOURCE_URL=
IIA_DID_VOICE_ID=

# HeyGen settings
IIA_HEYGEN_AVATAR_ID=
IIA_HEYGEN_VOICE_ID=

# Simli settings
IIA_SIMLI_FACE_ID=
IIA_SIMLI_MAX_SESSION_LENGTH=3600
IIA_SIMLI_MAX_IDLE_TIME=300

# LiveKit settings for Simli real-time avatar stream
LIVEKIT_URL=
LIVEKIT_API_KEY=
LIVEKIT_API_SECRET=
SIMLI_API_KEY=
SIMLI_FACE_ID=
SIMLI_START_MAX_RETRIES=5
SIMLI_START_RETRY_BASE_SECONDS=3
SIMLI_START_RETRY_MAX_SECONDS=60

# Virtual 3D avatar voice settings (used when IIA_AVATAR_MODE=virtual3d)
IIA_VIRTUAL_AVATAR_TTS_MODEL=gpt-4o-mini-tts
IIA_VIRTUAL_AVATAR_VOICE=alloy

# Backend base URL (used to build local audio URLs)
IIA_BACKEND_BASE_URL=http://localhost:8000

# Analysis speed tuning:
# 1 = faster local analysis defaults (lower frame sampling, larger windows, no remote LLM judge call)
# 0 = full analysis behavior
IIA_FAST_ANALYSIS=1

# Whisper model used for transcription (tiny, base, small, ...)
IIA_WHISPER_MODEL=tiny
